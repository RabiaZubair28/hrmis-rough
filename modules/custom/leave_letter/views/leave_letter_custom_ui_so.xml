<odoo>
    <template id="leave_letter_add_download_notification_manage_history"
              inherit_id="custom_section_officers.hrmis_manage_requests">

        <!-- Target the Notifications column for each leave_history row -->
        <xpath expr="//a[contains(@class,'hrmis-btn--outline') and contains(@t-att-href, 'history-view')]" position="replace">

        
            <t t-if="lv.leave_notification_id">
                <a t-att-href="'/leave_letter/pdf/%s' % lv.leave_notification_id.id"
                   class="hrmis-btn hrmis-btn--outline"
                   style="margin-left:0px;"
                   target="_blank"
                   t-if="lv.state in ('validate','validate2')">
                    Download 
                </a>
                <t t-else="">—</t>
            </t>
            <t t-else="">—</t>

        </xpath>

    </template>
</odoo>
