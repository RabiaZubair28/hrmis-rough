<odoo>
    <template id="leave_notification_pdf" t-name="leave_letter.leave_notification_pdf">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="doc">
                <div style="padding:0px; margin-left:60px; margin-right:60px; font-family:Arial, sans-serif; font-size:14pt;">

                    
                    <!-- Header with logo left, text right -->
                    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:25px;">
                        <!-- Logo -->
                        <div style="flex:0 0 120px;">
                            <img src="/leave_letter/static/src/img/logo.png" style="height:120px;"/>
                        </div>

                        <!-- Govt Info -->
                        <div style="flex:1; display:flex; flex-direction:column; align-items:flex-end;">
                            <div style="text-align:right;">
                                   <div style="display:inline-block; text-align:center;">
                                <div style="font-weight:bold; font-size:18pt; margin-bottom:4px;">GOVERNMENT OF SINDH</div>
                                <div style="font-weight:bold; font-size:16pt; margin-bottom:4px;">HEALTH DEPARTMENT</div>
                                <div style="font-size:14pt;">Karachi, dated: <t t-esc="doc.issue_date"/></div>
                            </div>
                            </div>
                        </div>
                    </div>


                    <!-- Title -->
                    <h2 style="text-align:center; text-decoration:underline; margin-top:10px; font-size:18pt;">NOTIFICATION</h2>

                    <!-- Main Notification Paragraph -->
                    <p style="margin-top:20px; line-height:1.8; text-align:justify; font-size:14pt;">
                        <strong style = "text-decoration:underline;">NO. <t t-esc="doc.name"/>:</strong> 
                        <span style="font-weight:bold;">
                            <t t-esc="doc.hrmis_employee_id"/>
                            <t t-if="doc.employee_id and doc.employee_id.gender == 'female'"> D/o </t>
                            <t t-else=""> S/o </t>
                            <t t-esc="doc.hrmis_father_name"/>
                        </span>, 
                        

                        <t t-esc="doc.employee_id.hrmis_designation.name"/> (BS-<t t-esc="doc.employee_id.hrmis_bps"/>) 
                        <t t-esc="doc.employee_id.facility_id.name or ''"/> is hereby granted 
                        <span style="font-weight:bold;"><t t-esc="doc.leave_duration or ' '"/> </span>
                        <t t-esc="doc.leave_type_id.name or 'Leave'"/> 
                        w.e.f <t t-esc="doc.leave_start_date or doc.issue_date"/>.
                    </p>
                    
                    <!-- CNIC on separate line -->
                    <p style="margin-top:10px; font-weight:bold; font-size:14pt;">
                        (CNIC: <t t-esc="doc.employee_id.hrmis_cnic or ' ' "/>)


                    </p>

                    <!-- Section Officer Signature Block -->
                    <div style="margin-top:40px; text-align:right;">
                        
                            <div style="display:inline-block; text-align:center;">
                                
                                <!-- <div style="margin-top:5px; font-weight:bold;"><t t-esc="doc.employee_so.name"/></div> -->
                                <div style="margin-top:2px; font-weight:bold;">-Rehan Iqbal Baloch-</div>
                                <div style="margin-top:2px;">Secretary Health</div>
                                                                <div style="font-size:14pt;">Karachi, dated: <t t-esc="doc.issue_date"/></div>
                            </div>
                        
                        
                    </div>
<strong style="text-align:left; text-decoration:underline;">NO. <t t-esc="doc.name"/>:-</strong> 

                    <!-- Distribution List -->
                    <p style="margin-top:30px; font-size:12pt; text-decoration:underline ;">
                        A copy is forwarded for information and necessary action to:
                        <ol style="margin-left:20px;">
                            <li>The Accountant General Sindh Karachi.</li>
                            <li>The Director General, Health Services Sindh, <t t-esc="doc.employee_id.district_id.name"/>.</li>
                            <li>The Director, Health Services Karachi Division Karachi.</li>
                            <li>The District Health Officer (concerned).</li>
                            <li>The Medical Superintendent, <t t-esc="doc.employee_id.facility_id.name"/>.</li>
                            <li>Doctor concerned.</li>
                            <li>Notification file.</li>
                        </ol>
                    </p>

                    <!-- Section Officer Signature Block -->
               
                <!-- QR Code Block -->
<div style="margin-top:40px; width:100%; display:table;">
    <div style="display:table-cell; text-align:center; vertical-align:top; width:50%;">



<div style="margin-top:30px; text-align:left;">
    <div style="display:inline-block; text-align:center;">
<t t-set="qr_b64" t-value="doc.get_notification_qr_b64()"/>
<img t-if="qr_b64"
     t-att-src="'data:image/png;base64,%s' % qr_b64"
     style="height:150px; width:150px;"/>

<!-- <div style="font-size:10pt; margin-top:5px;">Scan to Download Notification</div> -->


      
    </div>
</div>


        <t t-if="not doc.get_notification_qr_b64()">
            <div style="font-size:10pt; color:#999;">
                QR code not available
            </div>
        </t>
</div>
    <!-- SIGNATURE (RIGHT) -->
    <div style="display:table-cell; text-align:right; vertical-align:top; width:50%;">

        <t t-if="doc.so_signature">
            <div style="display:inline-block; text-align:center;">
                <img t-att-src="'data:image/png;base64,%s' % (doc.so_signature.decode() if isinstance(doc.so_signature, bytes) else doc.so_signature)"
                     style="height:200px;"/>

                <div style="margin-top:5px; font-weight:bold;">
                    <t t-esc="doc.employee_so.name"/>
                </div>
                <div style="margin-top:2px;">Section Officer</div>
                <div style="margin-top:2px;">
                    Karachi, <t t-esc="doc.issue_date"/>
                </div>
            </div>
        </t>

        <t t-if="not doc.so_signature">
            <div style="display:inline-block; text-align:center; color:#999;">
                Section Officer signature not uploaded
            </div>
        </t>

    </div>

</div>




                </div>
            </t>
        </t>
    </template>
</odoo>
