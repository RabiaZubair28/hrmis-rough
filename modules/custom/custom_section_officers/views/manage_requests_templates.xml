<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Sidebar entry (in Section Officer module) -->
    <template id="hrmis_ui_layout_section_officer_manage_requests" inherit_id="hr_holidays_updates.hrmis_ui_layout">
        <xpath expr="//nav[contains(@class,'hrmis-nav')]" position="inside">
        <t t-if=" request.env.user.has_group('custom_login.group_section_officer')">
            <a t-attf-class="hrmis-nav__item #{'is-active' if active_menu == 'manage_requests' else ''}"
               href="/hrmis/manage/requests?tab=leave">
                Leave Requests
                <span class="hrmis-nav__badge2">
                    <t t-esc="pending_manage_leave_count if pending_manage_leave_count is not None else 0"/>
                </span>
            </a>

            </t>
              <t t-if=" request.env.user.has_group('custom_login.group_section_officer')">
            <a t-attf-class="hrmis-nav__item" 
               href="/hrmis/disciplinary?tab=history">
                Disciplinary Actions
                </a>
            </t>
            <t t-if="
                 request.env.user.has_group('custom_login.group_section_officer')
                ">
                <a t-attf-class="hrmis-nav__item #{'is-active' if active_menu == 'profile_update_requests' else ''}"
                    href="/hrmis/profile-update-requests">
                        Profile Update Requests
                        <span class="hrmis-nav__badge2">
                            <t t-esc="pending_profile_update_count if pending_profile_update_count is not None else 0"/>
                        </span>
                </a>
            </t>
        </xpath>
    </template>

    <template id="hrmis_manage_requests" name="HRMIS Manage Requests (Section Officer)">
        <t t-call="hr_holidays_updates.hrmis_ui_layout">
            <div class="hrmis-panel">
                <t t-if="success or error">
                    <div t-attf-class="hrmis-alert #{'hrmis-alert--success' if success else 'hrmis-alert--error'}"
                        style="margin:5px; border: 2px solid black;font-weight:bold;">
                        <t t-esc="success or error"/>
                    </div>
                </t>
                <div class="hrmis-panel_header hrmis-panelheader--tabs hrmis-panel_header--tabs--manage">
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'leave' else ''}"
                   t-att-href="'/hrmis/manage/requests?tab=leave'" style="border-bottom: 2px solid black;">
                    Leave Requests
                </a>

                <!-- New tab: Leave Request History -->
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'history' else ''}"
                   t-att-href="'/hrmis/manage/requests?tab=history'" style="border-bottom: 2px solid black;">
                    Leave Status
                </a>
            </div>

                <div class="hrmis-panel__body">
                    <div class="hrmis-filters">
                        <input type="text"
                            class="hrmis-filter__search"
                            placeholder="Search (min 3 characters)..."/>

                        <select class="hrmis-filter__select" data-filter="status">
                            <option value="">All Statuses</option>
                            <option value="validate">Approved</option>
                            <option value="refuse">Rejected</option>
                            <option value="cancel">Cancelled</option>
                            <option value="confirm">Pending</option>
                        </select>

                        <select class="hrmis-filter__select" data-filter="date">
                            <option value="">All Dates</option>
                            <option value="today">Today</option>
                            <option value="2days">Last 2 Days</option>
                            <option value="week">Last Week</option>
                        </select>
                    </div>

                <!-- Leave Requests -->
                <t t-if="tab == 'leave'">
                    <t t-if="not leaves">
                        <div class="hrmis-empty">No leave requests pending your action.</div>
                    </t>
                        <t t-else="">
                            <!-- CSS-only modal (opens via URL fragment + :target) -->
                            <style>
                                .hrmis-modal { display:none; position:fixed; inset:0; z-index:1000; }
                                .hrmis-modal:target { display:flex; }
                                .hrmis-modal__backdrop { position:absolute; inset:0; background:rgba(0,0,0,.45); }
                                .hrmis-modal__dialog { position:relative; margin:auto; width:min(900px, 94vw); max-height:90vh; overflow:auto; background:#fff; border-radius:12px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.25); }
                                .hrmis-modal__head { display:flex; align-items:center; justify-content:space-between; gap:12px; border-bottom:1px solid #eee; padding-bottom:10px; margin-bottom:12px; }
                                .hrmis-modal__title { font-weight:800; font-size:16px; }
                                .hrmis-modal__close { text-decoration:none; font-weight:700; padding:6px 10px; border-radius:8px; border:1px solid #ddd; color:#111; }
                                .hrmis-modal__grid { display:grid; grid-template-columns: 1fr 1fr; gap:10px 16px; }
                                .hrmis-modal__field { display:flex; flex-direction:column; gap:4px; }
                                .hrmis-modal__label { font-size:12px; color:#666; font-weight:700; }
                                .hrmis-modal__value { font-size:13px; color:#111; }
                                .hrmis-modal__section { margin-top:12px; }
                                .hrmis-modal__actions { display:flex; gap:10px; align-items:center; justify-content:flex-end; margin-top:14px; }
                                .hrmis-attachment { display:flex; gap:8px; align-items:center; justify-content:space-between; padding:8px 0; border-bottom:1px solid #f0f0f0; font-size:13px; }
                                .hrmis-attachment__name { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width: 520px; }
                            </style>

                            <!-- Use same table layout as HRMIS Leave History -->
                            <div class="hrmis-table__head">
                                <div>#</div>
                                <div>Staff</div>
                                <div>Leave type</div>
                                <div>Submitted on</div>
                                <div>From</div>
                                <div>To</div>
                                <div>Actions</div>
                            </div>
                            <t t-foreach="range(len(leaves))" t-as="idx0">
                                <t t-set="lv" t-value="leaves[idx0]" />
                                <div class="hrmis-table__row">
                                    <div><t t-esc="idx0 + 1"/></div>
                                    <div>
                                        <div class="strong">
                                            <a t-att-href="'/hrmis/manage/history/%s?tab=profile' % (lv.employee_id.id)"
                                               style="text-decoration:none;">
                                                <t t-esc="lv.employee_id.name"/>
                                            </a>
                                        </div>
                                        <div class="sub">
                                            <t t-esc="(('facility_id' in lv.employee_id._fields and lv.employee_id.facility_id and lv.employee_id.facility_id.name) or ('hrmis_facility_id' in lv.employee_id._fields and lv.employee_id.hrmis_facility_id and lv.employee_id.hrmis_facility_id.name) or '')"/>
                                            <t t-if="(('district_id' in lv.employee_id._fields and lv.employee_id.district_id and lv.employee_id.district_id.name) or ('hrmis_district_id' in lv.employee_id._fields and lv.employee_id.hrmis_district_id and lv.employee_id.hrmis_district_id.name))">
                                                — <t t-esc="(('district_id' in lv.employee_id._fields and lv.employee_id.district_id and lv.employee_id.district_id.name) or ('hrmis_district_id' in lv.employee_id._fields and lv.employee_id.hrmis_district_id and lv.employee_id.hrmis_district_id.name) or '')"/>
                                            </t>
                                        </div>
                                    </div>
                                    <div><t t-esc="lv.holiday_status_id.name"/></div>
                                    <div><t t-esc="(str(lv.create_date)[:19] if lv.create_date else '')"/></div>
                                    <div><t t-esc="lv.request_date_from"/></div>
                                    <div><t t-esc="lv.request_date_to"/></div>
                                    <div>
                                        <a class="hrmis-btn hrmis-btn--outline"
                                           t-att-href="'#lv-modal-%s' % lv.id">
                                            Proceed
                                        </a>
                                    </div>
                                </div>

                                <!-- Proceed Modal -->
                                <div class="hrmis-modal" t-att-id="'lv-modal-%s' % lv.id">
                                    <a class="hrmis-modal__backdrop" href="#_" aria-label="Close" onclick="event.stopPropagation();"></a>
                                    <div class="hrmis-modal__dialog" role="dialog" aria-modal="true">
                                        <div class="hrmis-modal__head">
                                            <div class="hrmis-modal__title">
                                                Leave Request — <t t-esc="lv.employee_id.name"/>
                                            </div>
                                            <a class="hrmis-modal__close" href="#_" aria-label="Close" onclick="event.stopPropagation();">Close</a>
                                        </div>

                                        <div class="hrmis-modal__grid">
                                            <div class="hrmis-modal__field">
                                                <div class="hrmis-modal__label">Starting Date</div>
                                                <div class="hrmis-modal__value"><t t-esc="lv.request_date_from or ''"/></div>
                                            </div>
                                            <div class="hrmis-modal__field">
                                                <div class="hrmis-modal__label">Ending Date</div>
                                                <div class="hrmis-modal__value"><t t-esc="lv.request_date_to or ''"/></div>
                                            </div>

                                            <div class="hrmis-modal__field">
                                                <div class="hrmis-modal__label">Leave Type</div>
                                                <div class="hrmis-modal__value"><t t-esc="(lv.holiday_status_id and lv.holiday_status_id.name) or ''"/></div>
                                            </div>
                                            <div class="hrmis-modal__field">
                                                <div class="hrmis-modal__label">Total Leave Balance</div>
                                                <div class="hrmis-modal__value">
                                                    <t t-esc="(lv.employee_id.employee_leave_balance_total if lv.employee_id else 0.0)"/> days
                                                </div>
                                            </div>

                                            <div class="hrmis-modal__field">
                                                <div class="hrmis-modal__label">Leave Taken (this type)</div>
                                                <div class="hrmis-modal__value">
                                                    <t t-esc="(leave_taken_by_leave_id.get(lv.id, 0.0) if leave_taken_by_leave_id else 0.0)"/> days
                                                </div>
                                            </div>
                                            <div class="hrmis-modal__field">
                                                <div class="hrmis-modal__label">Submitted On</div>
                                                <div class="hrmis-modal__value"><t t-esc="(str(lv.create_date)[:19] if lv.create_date else '')"/></div>
                                            </div>

                                            <div class="hrmis-modal__field" style="grid-column:1 / -1;">
                                                <div class="hrmis-modal__label">Remarks</div>
                                                <t t-set="rmk"
                                                   t-value="(('private_name' in lv._fields and lv.private_name) or lv.name or '')"/>
                                                <t t-set="rmk_stripped" t-value="(rmk or '').replace('*','').strip()"/>
                                                <div class="hrmis-modal__value">
                                                    <t t-esc="(lv.name or '') if (rmk and not rmk_stripped) and (lv.name and lv.name.replace('*','').strip()) else rmk"/>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="hrmis-modal__section">
                                            <div class="hrmis-modal__label" style="margin-bottom:6px;">Supporting Documents</div>
                                            <t t-set="atts"
                                               t-value="(lv.hrmis_supporting_attachment_ids if 'hrmis_supporting_attachment_ids' in lv._fields else (attachments_by_leave_id.get(lv.id) if attachments_by_leave_id else False))"/>
                                            <t t-if="atts and len(atts)">
                                                <t t-foreach="atts" t-as="att">
                                                    <div class="hrmis-attachment">
                                                        <div class="hrmis-attachment__name">
                                                            <t t-esc="att.name or ('Attachment %s' % att.id)"/>
                                                        </div>
                                                        <div style="display:flex; gap:8px; align-items:center;">
                                                            <a class="hrmis-btn hrmis-btn--outline"
                                                               style="padding:6px 10px;"
                                                               t-att-href="'/web/content/%s' % att.id"
                                                               target="_blank">View</a>
                                                            <a class="hrmis-btn hrmis-btn--outline"
                                                               style="padding:6px 10px;"
                                                               t-att-href="'/web/content/%s?download=true' % att.id"
                                                               target="_blank">Download</a>
                                                        </div>
                                                    </div>
                                                </t>
                                            </t>
                                            <t t-else="">
                                                <div class="hrmis-empty" style="margin:0;">No supporting documents.</div>
                                            </t>
                                        </div>

                                        <div class="hrmis-modal__section">
                                            <div class="hrmis-modal__label" style="margin-bottom:6px;">Previous comments</div>
                                            <t t-if="lv.message_ids and len(lv.message_ids)">
                                                <div class="hrmis-comments" style="padding:4px 0; max-height:160px; overflow-y:auto; border:1px solid #eee; border-radius:8px; padding:8px;">
                                                    <t t-foreach="lv.message_ids" t-as="msg">
                                                        <div class="hrmis-comment" style="font-size:12px; line-height:1.35; margin-bottom:6px;">
                                                            <strong><t t-esc="msg.author_id.name"/></strong>:
                                                            <t t-esc="msg.body"/>
                                                        </div>
                                                    </t>
                                                </div>
                                            </t>
                                            <t t-else="">
                                                <div class="hrmis-empty" style="margin:0;">No comments yet.</div>
                                            </t>
                                        </div>

                                        <form t-att-action="'/hrmis/leave/%s/approve' % lv.id"
                                              method="post"
                                              class="hrmis-modal__section">
                                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                            <input type="hidden" name="action" value="approve"/>
                                            <div class="hrmis-modal__label" style="margin-bottom:6px;">Add New Comment</div>
                                            <textarea class="hrmis-input hrmis-input--wide"
                                                      name="comment"
                                                      rows="3"
                                                      placeholder="Add new comment..."></textarea>
                                            <div class="hrmis-modal__actions">
                                                <button class="hrmis-btn hrmis-btn--primary" type="submit"
                                                        onclick="this.form.action.value='approve';">
                                                    Forward
                                                </button>
                                                <button type="submit" class="hrmis-btn hrmis-btn--outline"
                                                        onclick="this.form.action.value='dismiss';">
                                                    Dismiss
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                             
                            </t>
                        </t>
                    </t>

                </div>
            </div>
        </t>
    </template>

    <template id="hrmis_manage_history" name="HRMIS Manage History (Section Officer)">
    <t t-call="hr_holidays_updates.hrmis_ui_layout">
        <div class="hrmis-panel">

            <!-- Tabs -->
            <div class="hrmis-panel__header hrmis-panel__header--tabs hrmis-panel__header--tabs--manage">
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'leave' else ''}"
                   t-att-href="'/hrmis/manage/history/%s?tab=leave' % employee.id">
                    Leave Requests History
                </a>
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'history' else ''}"
                   t-att-href="'/hrmis/manage/history/%s?tab=history' % employee.id">
                    All Leave History
                </a>
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'profile' else ''}"
                   t-att-href="'/hrmis/manage/history/%s?tab=profile' % employee.id">
                    Staff Profile
                </a>
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'transfer' else ''}"
                   t-att-href="'/hrmis/manage/history/%s?tab=transfer' % employee.id">
                    Transfer Requests History
                </a>
                <a t-attf-class="hrmis-tab hrmis-tab--manage #{'is-active' if tab == 'disciplinary' else ''}"
                   t-att-href="'/hrmis/manage/history/%s?tab=disciplinary' % employee.id">
                    Disciplinary Actions History
                </a>
            </div>

            <div class="hrmis-panel__body">

                <!-- Employee Summary -->
                <div style="margin-bottom:18px;font-weight:900;font-size:15px;gap:12px">
                    <div>Name: <t t-esc="employee.name"/></div>
                    <div>Facility:
                        <t t-if="facility_name"> <t t-esc="facility_name"/></t>
                    </div>
                    <div>District:
                        <t t-if="district_name"> <t t-esc="district_name"/></t>
                    </div>
                    <div>
                        Total Leave Balance:
                        <t t-esc="employee.employee_leave_balance_total or 0.0"/> days
                    </div>
                </div>

                <!-- ===================================================== -->
                <!-- EMPLOYEE LEAVE HISTORY (existing grid view) -->
                <!-- ===================================================== -->
                <t t-if="tab == 'leave'">
                    <t t-if="not leaves_history">
                        <div class="hrmis-empty">No leave history found for this employee.</div>
                    </t>
                    <t t-else="">
                        <t t-set="grid_hist"
                           t-value="'display:grid; grid-template-columns: 1.6fr 170px 1.1fr 1.1fr 0.9fr 1fr; column-gap:12px;'"/>

                        <div class="hrmis-table__head"
                             t-att-style="grid_hist + 'font-size:18px;font-weight:900;padding-block:12px;'">
                            <div>Leave Type</div>
                            <div>Submitted On</div>
                            <div>From</div>
                            <div>To</div>
                            <div>Leave Taken</div>
                            <div>Status</div>
                        </div>

                        <t t-foreach="leaves_history" t-as="lv">
                            <div class="hrmis-table__row"
                                 t-att-style="grid_hist + 'font-size:15px;margin-top:8px;border-bottom:1px solid #eee;'">
                                <div><t t-esc="lv.holiday_status_id.name"/></div>
                                <div><t t-esc="(str(lv.create_date)[:19] if lv.create_date else '')"/></div>
                                <div><t t-esc="lv.request_date_from"/></div>
                                <div><t t-esc="lv.request_date_to"/></div>
                                <div>
                                    <t t-esc="leave_taken_by_type.get(lv.holiday_status_id.id, 0.0)"/>
                                </div>
                                <div>
                                    <t t-if="lv.state in ('confirm','validate1')">Pending</t>
                                    <t t-elif="lv.state in ('validate','validate2')">Approved</t>
                                    <t t-elif="lv.state == 'refuse'">Rejected</t>
                                    <t t-else=""><t t-esc="lv.state"/></t>
                                </div>
                            </div>
                        </t>
                    </t>
                </t>

                <!-- ===================================================== -->
                <!-- MANAGE REQUESTS → HISTORY TAB (merged block) -->
                <!-- ===================================================== -->
                <t t-if="tab == 'history'">
                    <t t-if="not leave_history">
                        <div class="hrmis-empty">No leave request history available.</div>
                    </t>
                    <t t-else="">
                        <div class="hrmis-leave-history">
                            <div class="hrmis-table__head">
                                <div>#</div>
                                <div>Staff</div>
                                <div>Leave type</div>
                                <div>Submitted on</div>
                                <div>From</div>
                                <div>To</div>
                                <div>Status</div>
                            </div>

                            <t t-foreach="range(len(leave_history))" t-as="idx0">
                                <t t-set="lv" t-value="leave_history[idx0]"/>

                                <div class="hrmis-table__row">
                                    <div><t t-esc="idx0 + 1"/></div>
                                    <div>
                                        <div class="strong">
                                            <a t-att-href="'/hrmis/manage/history/%s?tab=profile' % (lv.employee_id.id)"
                                               style="text-decoration:none;">
                                                <t t-esc="lv.employee_id.name"/>
                                            </a>
                                        </div>
                                        <div class="sub">
                                            <t t-esc="(lv.employee_id.hrmis_facility_id.name if getattr(lv.employee_id, 'hrmis_facility_id', False) else '')"/>
                                            <t t-if="(lv.employee_id.hrmis_district_id.name if getattr(lv.employee_id, 'hrmis_district_id', False) else '')">
                                                — <t t-esc="(lv.employee_id.hrmis_district_id.name if getattr(lv.employee_id, 'hrmis_district_id', False) else '')"/>
                                            </t>
                                        </div>
                                    </div>
                                    <div><t t-esc="lv.holiday_status_id.name"/></div>
                                    <div><t t-esc="(str(lv.create_date)[:19] if lv.create_date else '')"/></div>
                                    <div><t t-esc="lv.request_date_from"/></div>
                                    <div><t t-esc="lv.request_date_to"/></div>
                                    <div>
                                        <t t-if="lv.state in ('confirm','validate1')">Pending</t>
                                        <t t-elif="lv.state in ('validate','validate2')">Approved</t>
                                        <t t-elif="lv.state == 'refuse'">Rejected</t>
                                        <t t-elif="lv.state == 'cancel'">Cancelled</t>
                                        <t t-else=""><t t-esc="lv.state"/></t>
                                    </div>
                                </div>
                            </t>
                        </div>
                    </t>
                </t>

                <!-- ===================================================== -->
                <!-- STAFF PROFILE TAB (employee info) -->
                <!-- ===================================================== -->
                <t t-if="tab == 'profile'">
                    <div class="hrmis-kv hrmis-kv--grid">
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Name</div>
                            <div class="hrmis-kv__v"><t t-esc="employee.name or ''"/></div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Gender</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="((('gender' in employee._fields and employee.gender) or ('hrmis_gender' in employee._fields and employee.hrmis_gender) or '') or '').replace('_',' ').title()"/>
                            </div>
                        </div>

                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Facility</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="(('facility_id' in employee._fields and employee.facility_id and employee.facility_id.name) or ('hrmis_facility_id' in employee._fields and employee.hrmis_facility_id and employee.hrmis_facility_id.name) or '')"/>
                            </div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">District</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="(('district_id' in employee._fields and employee.district_id and employee.district_id.name) or ('hrmis_district_id' in employee._fields and employee.hrmis_district_id and employee.hrmis_district_id.name) or '')"/>
                            </div>
                        </div>

                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Date of Birth</div>
                            <div class="hrmis-kv__v"><t t-esc="('birthday' in employee._fields and employee.birthday) or ''"/></div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Commission Date</div>
                            <div class="hrmis-kv__v"><t t-esc="('hrmis_commission_date' in employee._fields and employee.hrmis_commission_date) or ''"/></div>
                        </div>

                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Joining Date</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="('hrmis_joining_date' in employee._fields and employee.hrmis_joining_date) or ('first_contract_date' in employee._fields and employee.first_contract_date) or ''"/>
                            </div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">CNIC</div>
                            <div class="hrmis-kv__v"><t t-esc="employee.hrmis_cnic or ''"/></div>
                        </div>

                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Father Name</div>
                            <div class="hrmis-kv__v"><t t-esc="employee.hrmis_father_name or ''"/></div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Mobile</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="employee.mobile_phone or (('hrmis_contact_info' in employee._fields and employee.hrmis_contact_info) or '')"/>
                            </div>
                        </div>

                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">BPS</div>
                            <div class="hrmis-kv__v"><t t-esc="('hrmis_bps' in employee._fields and employee.hrmis_bps) or ''"/></div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Designation</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="('hrmis_designation' in employee._fields and employee.hrmis_designation) or (employee.job_id and employee.job_id.name) or ''"/>
                            </div>
                        </div>

                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Cadre</div>
                            <div class="hrmis-kv__v">
                                <t t-esc="(employee.hrmis_cadre and employee.hrmis_cadre.name) or ''"/>
                            </div>
                        </div>
                        <div class="hrmis-kv__item">
                            <div class="hrmis-kv__k">Taken Leaves</div>
                            <div class="hrmis-kv__v"><t t-esc="employee.hrmis_leaves_taken or ''"/></div>
                        </div>
                    </div>
                </t>

                <!-- Other Tabs -->
                <t t-if="tab == 'transfer'">
                    <div class="hrmis-empty">No transfer requests history available yet.</div>
                </t>

                <t t-if="tab == 'disciplinary'">
                    <div class="hrmis-empty">No disciplinary actions history available yet.</div>
                </t>

                <div class="hrmis-form__actions" style="margin-top:16px;">
                    <a class="hrmis-btn hrmis-btn--outline"
                       href="/hrmis/manage/requests?tab=leave">
                        Back to Manage Requests
                    </a>
                </div>

            </div>
        </div>
    </t>
</template>


    <template id="hrmis_confirm_dismiss" name="HRMIS Confirm Dismiss (Section Officer)">
        <t t-call="hr_holidays_updates.hrmis_ui_layout">
            <div class="hrmis-panel">
                <div class="hrmis-panel__header">
                    <div class="hrmis-panel__title">Confirm dismiss</div>
                </div>
                <div class="hrmis-panel__body">
                    <div class="hrmis-kv">
                        <div class="hrmis-kv__row">
                            <div class="hrmis-kv__k">Type</div>
                            <div class="hrmis-kv__v">Leave request</div>
                        </div>
                        <div class="hrmis-kv__row">
                            <div class="hrmis-kv__k">Staff</div>
                            <div class="hrmis-kv__v"><t t-esc="record.employee_id.name"/></div>
                        </div>
                        <div class="hrmis-kv__row">
                            <div class="hrmis-kv__k">Dates</div>
                            <div class="hrmis-kv__v"><t t-esc="record.request_date_from"/> to <t t-esc="record.request_date_to"/></div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- Override leave view "Back" when opened from Manage Requests -->
    <template id="hrmis_leave_view_back_section_officer" inherit_id="hr_holidays_updates.hrmis_leave_view">
        <xpath expr="//div[contains(@class,'hrmis-form__actions')]//a[contains(@class,'hrmis-btn') and contains(@class,'hrmis-btn--outline')][normalize-space()='Back']" position="attributes">
            <attribute name="t-att-href">'/hrmis/manage/requests?tab=leave' if active_menu == 'manage_requests' else '/hrmis/leave/requests'</attribute>
        </xpath>
    </template>
</odoo>
